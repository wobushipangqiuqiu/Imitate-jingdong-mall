{"remainingRequest":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\我是仙女\\Desktop\\jd\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\src\\store\\index.js","mtime":1656580092993},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\babel.config.js","mtime":1654581884108},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654581870855},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js","mtime":1654581871710},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\eslint-loader\\index.js","mtime":1654581871051}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwoKdmFyIHNldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKSB7CiAgdmFyIGNhcnRMaXN0ID0gc3RhdGUuY2FydExpc3Q7CiAgdmFyIGNhcnRMaXN0U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY2FydExpc3QpOwogIGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCA9IGNhcnRMaXN0U3RyaW5nOwp9OyAvLyBzdGF0ZeS4rWNhcnRMaXN0IOWImuW8gOWni+aYr+S4gOS4quepuuWvueixoXt9IOWwhuWFtue9ruS4uuacrOWcsOWtmOWCqOeahOWGheWuuSzmsqHmnInnmoTmg4XlhrXkuIvmiY3kuLp7fSAgIOWmguaenOaJi+WKqOa4heepuue8k+WtmCzliJnkvJrmiqXplJks5Zug5Li6SlNPTi5wYXJzZeeahOWAvOS4jeiDveaYr+epuuaIluiAhXVuZGVmaW5lZCzmiYDku6XopoHkuYjliqDliKTmlq0g5oiWdHJ5IGNhdGNoICAKLy8gaWYgKGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCkgewovLyAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCkKLy8gfSBlbHNlIHsKLy8gICBsb2NhbFN0b3JhZ2UuY2FydExpc3QgPSAnJwovLyB9CgoKdmFyIGdldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBnZXRMb2NhbENhcnRMaXN0KCkgewogIC8vICB7c2hvcElkOntzaG9wTmFtZTonJyxwcm9kdWN0TGlzdDp7cHJvZHVjdElkOnt9IH19fQogIHRyeSB7CiAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY2FydExpc3QpOwogIH0gY2F0Y2ggKGVycikgewogICAgcmV0dXJuIHt9OwogIH0KfTsKLyogc3RhdGXkuK3mlbDmja7nu5PmnoQKc3RhdGU6IHsKICBjYXJ0TGlzdDogewogICAgLy8g56ys5LiA5bGC57qn77ya5ZWG6ZO6c2hvcElkIAogICAgc2hvcElkOiB7CiAgICAgIC8vIOesrOS6jOWxgiDllYblk4HlkI3np7DvvIjmsoPlsJTnjpvjgIHlsbHlp4bvvInlkozllYblk4HliJfooagKICAgICAgc2hvcE5hbWU6ICfmsoPlsJTnjpsnLAogICAgICBwcm9kdWN0TGlzdDogewogICAgICAgIC8vIOesrOS4ieWxgjrllYblk4FpZAogICAgICAgIC8vIOesrOS4ieWxguWGheWuue+8muWVhuWTgeWGheWuueWPiui0reeJqeaVsOmHjwogICAgICAgIHByb2R1Y3RJZDogewogICAgICAgICAgX2lkOiAnMScsCiAgICAgICAgICBuYW1lOiAn55Wq6IyE77yaMjUwZy/ku70nLAogICAgICAgICAgaW1nVXJsOiAnJywKICAgICAgICAgIHNhbGVzOiAxMCwKICAgICAgICAgIHByaWNlOiAzMy42LAogICAgICAgICAgb2xkUHJpY2U6IDM5LjYsCiAgICAgICAgICBjb3VudDogMgogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfSwgKi8KCgpleHBvcnQgZGVmYXVsdCBjcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIGNhcnRMaXN0OiBnZXRMb2NhbENhcnRMaXN0KCkKICB9LAogIG11dGF0aW9uczogewogICAgLy8g6LSt54mp6L2m5Yqg5YeP5Y+36YC76L6RCiAgICBjaGFuZ2VDYXJ0SXRlbUluZm86IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtSW5mbyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZCwKICAgICAgICAgIHByb2R1Y3RJbmZvID0gcGF5bG9hZC5wcm9kdWN0SW5mbzsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICB2YXIgcHJvZHVjdCA9IHNob3BJbmZvLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CgogICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICBwcm9kdWN0ID0gcHJvZHVjdEluZm87CiAgICAgICAgcHJvZHVjdC5jb3VudCA9IDA7CiAgICAgIH0KCiAgICAgIHByb2R1Y3QuY291bnQgPSBwcm9kdWN0LmNvdW50ICsgcGF5bG9hZC5udW07CgogICAgICBpZiAocGF5bG9hZC5udW0gPiAwKSB7CiAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChwcm9kdWN0LmNvdW50IDwgMCkgewogICAgICAgIHByb2R1Y3QuY291bnQgPSAwOwogICAgICB9CgogICAgICBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdID0gcHJvZHVjdDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOyAvLyBjb25zb2xlLmxvZyhzdGF0ZS5jYXJ0TGlzdCkKCiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIC8vIOaUueWPmOWVhumTuuWQjeWtlwogICAgY2hhbmdlU2hvcE5hbWU6IGZ1bmN0aW9uIGNoYW5nZVNob3BOYW1lKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHNob3BOYW1lID0gcGF5bG9hZC5zaG9wTmFtZTsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICBzaG9wSW5mby5zaG9wTmFtZSA9IHNob3BOYW1lOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIC8vIOaYr+WQpumAieS4rQogICAgY2hhbmdlQ2FydEl0ZW1DaGVja2VkOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQ7IC8vIGNvbnNvbGUubG9nKHBheWxvYWQpCgogICAgICB2YXIgcHJvZHVjdCA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3RbcHJvZHVjdElkXTsKICAgICAgcHJvZHVjdC5jaGVjayA9ICFwcm9kdWN0LmNoZWNrOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICAvLyDmuIXnqbrotK3nianovaYKICAgIGNsZWFuQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjbGVhbkNhcnRQcm9kdWN0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3QgPSB7fTsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgLy8g54K55Ye75YWo6YCJ5bCG5pWw6YeP5aSn5LqO562J5LqOMemDvee9ruS4uumAieS4rQogICAgc2V0Q2FydEl0ZW1DaGVja2VkOiBmdW5jdGlvbiBzZXRDYXJ0SXRlbUNoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICB2YXIgcHJvZHVjdHMgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0OwoKICAgICAgaWYgKHByb2R1Y3RzKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb2R1Y3RzKSB7CiAgICAgICAgICB2YXIgcHJvZHVjdCA9IHByb2R1Y3RzW2tleV07CiAgICAgICAgICBwcm9kdWN0LmNoZWNrID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNsZWFyQ2FydERhdGE6IGZ1bmN0aW9uIGNsZWFyQ2FydERhdGEoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0ID0ge307CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7fSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"names":["createStore","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","err","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopName","productList","product","count","num","check","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemChecked","products","key","clearCartData","actions","modules"],"sources":["C:/Users/我是仙女/Desktop/jd/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nconst setLocalCartList = (state) => {\n  const { cartList } = state\n  const cartListString = JSON.stringify(cartList)\n  localStorage.cartList = cartListString\n}\n\n// state中cartList 刚开始是一个空对象{} 将其置为本地存储的内容,没有的情况下才为{}   如果手动清空缓存,则会报错,因为JSON.parse的值不能是空或者undefined,所以要么加判断 或try catch  \n// if (localStorage.cartList) {\n//   return JSON.parse(localStorage.cartList)\n// } else {\n//   localStorage.cartList = ''\n// }\nconst getLocalCartList = () => {\n  //  {shopId:{shopName:'',productList:{productId:{} }}}\n  try {\n    return JSON.parse(localStorage.cartList)\n  } catch (err) {\n    return {\n    }\n  }\n}\n/* state中数据结构\nstate: {\n  cartList: {\n    // 第一层级：商铺shopId \n    shopId: {\n      // 第二层 商品名称（沃尔玛、山姆）和商品列表\n      shopName: '沃尔玛',\n      productList: {\n        // 第三层:商品id\n        // 第三层内容：商品内容及购物数量\n        productId: {\n          _id: '1',\n          name: '番茄：250g/份',\n          imgUrl: '',\n          sales: 10,\n          price: 33.6,\n          oldPrice: 39.6,\n          count: 2\n        }\n      }\n    }\n  }\n}, */\n\nexport default createStore({\n  state: {\n    cartList: getLocalCartList()\n  },\n  mutations: {\n    // 购物车加减号逻辑\n    changeCartItemInfo(state, payload) {\n      const { shopId, productId, productInfo } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {}\n      }\n      let product = shopInfo.productList[productId]\n      if (!product) {\n        product = productInfo\n        product.count = 0\n      }\n      product.count = product.count + payload.num\n      if (payload.num > 0) {\n        product.check = true\n      }\n      if (product.count < 0) {\n        product.count = 0\n      }\n      shopInfo.productList[productId] = product\n      state.cartList[shopId] = shopInfo\n      // console.log(state.cartList)\n      setLocalCartList(state)\n    },\n    // 改变商铺名字\n    changeShopName(state, payload) {\n      const { shopId, shopName } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {}\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    // 是否选中\n    changeCartItemChecked(state, payload) {\n      const { shopId, productId } = payload\n      // console.log(payload)\n      const product = state.cartList[shopId].productList[productId]\n      product.check = !product.check\n      setLocalCartList(state)\n    },\n    // 清空购物车\n    cleanCartProducts(state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    },\n    // 点击全选将数量大于等于1都置为选中\n    setCartItemChecked(state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId].productList\n      if (products) {\n        for (const key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n      setLocalCartList(state)\n    },\n    clearCartData(state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId].productList = {}\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"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"}]}
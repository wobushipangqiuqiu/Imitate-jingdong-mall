{"remainingRequest":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\register\\Register.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\register\\Register.vue","mtime":1654949726796},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\babel.config.js","mtime":1654581884108},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654581870855},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js","mtime":1654581871710},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654581870855},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654581871863}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvXHU2MjExXHU2NjJGXHU0RUQ5XHU1OTczL0Rlc2t0b3AvamQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9cdTYyMTFcdTY2MkZcdTRFRDlcdTU5NzMvRGVza3RvcC9qZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyByZWFjdGl2ZSwgdG9SZWZzIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgcG9zdCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgVG9hc3QsIHsgdXNlVG9hc3RFZmZlY3QgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1RvYXN0LnZ1ZSc7IC8vIOWkhOeQhuazqOWGjOebuOWFs+mAu+i+kQoKdmFyIHVzZVJlZ2lzdGVyRWZmZWN0ID0gZnVuY3Rpb24gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgdXNlcm5hbWU6ICcnLAogICAgcGFzc3dvcmQ6ICcnLAogICAgZW5zdXJlbWVudDogJycKICB9KTsgLy8g55SoYXN5bmMvYXdhaXTor63ms5UKCiAgdmFyIGhhbmRsZVJlZ2lzdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3VzZXJuYW1lLCBfcGFzc3dvcmQsIF9lbnN1cmVtZW50LCByZXN1bHQ7CgogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX3VzZXJuYW1lID0gZGF0YS51c2VybmFtZSwgX3Bhc3N3b3JkID0gZGF0YS5wYXNzd29yZCwgX2Vuc3VyZW1lbnQgPSBkYXRhLmVuc3VyZW1lbnQ7CgogICAgICAgICAgICAgIGlmICghKF91c2VybmFtZSA9PT0gJycgfHwgX3Bhc3N3b3JkID09PSAnJyB8fCBfZW5zdXJlbWVudCA9PT0gJycpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgc2hvd1RvYXN0KCfor7floavlhpnnlKjmiLflkI3lkozlr4bnoIEnKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHBvc3QoJy9hcGkvdXNlci9yZWdpc3RlcicsIHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQsCiAgICAgICAgICAgICAgICBlbnN1cmVtZW50OiBkYXRhLmVuc3VyZW1lbnQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDApIHsKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgn5rOo5YaM5aSx6LSlJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgIHNob3dUb2FzdCgn6K+35rGC5aSx6LSlJyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEyXV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVSZWdpc3RlcigpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhkYXRhKSwKICAgICAgdXNlcm5hbWUgPSBfdG9SZWZzLnVzZXJuYW1lLAogICAgICBwYXNzd29yZCA9IF90b1JlZnMucGFzc3dvcmQsCiAgICAgIGVuc3VyZW1lbnQgPSBfdG9SZWZzLmVuc3VyZW1lbnQ7CgogIHJldHVybiB7CiAgICB1c2VybmFtZTogdXNlcm5hbWUsCiAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgaGFuZGxlUmVnaXN0ZXI6IGhhbmRsZVJlZ2lzdGVyCiAgfTsKfTsgLy8g5aSE55CG55m75b2V6Lez6L2sCgoKdmFyIHVzZUxvZ2luRWZmZWN0ID0gZnVuY3Rpb24gdXNlTG9naW5FZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB2YXIgaGFuZGxlTG9naW5DbGljayA9IGZ1bmN0aW9uIGhhbmRsZUxvZ2luQ2xpY2soKSB7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIG5hbWU6ICdMb2dpbicKICAgIH0pOwogIH07CgogIHJldHVybiB7CiAgICBoYW5kbGVMb2dpbkNsaWNrOiBoYW5kbGVMb2dpbkNsaWNrCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VUb2FzdEVmZmVjdCA9IHVzZVRvYXN0RWZmZWN0KCksCiAgICAgICAgc2hvdyA9IF91c2VUb2FzdEVmZmVjdC5zaG93LAogICAgICAgIHRvYXN0TWVzc2FnZSA9IF91c2VUb2FzdEVmZmVjdC50b2FzdE1lc3NhZ2UsCiAgICAgICAgc2hvd1RvYXN0ID0gX3VzZVRvYXN0RWZmZWN0LnNob3dUb2FzdDsKCiAgICB2YXIgX3VzZVJlZ2lzdGVyRWZmZWN0ID0gdXNlUmVnaXN0ZXJFZmZlY3Qoc2hvd1RvYXN0KSwKICAgICAgICB1c2VybmFtZSA9IF91c2VSZWdpc3RlckVmZmVjdC51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IF91c2VSZWdpc3RlckVmZmVjdC5wYXNzd29yZCwKICAgICAgICBlbnN1cmVtZW50ID0gX3VzZVJlZ2lzdGVyRWZmZWN0LmVuc3VyZW1lbnQsCiAgICAgICAgaGFuZGxlUmVnaXN0ZXIgPSBfdXNlUmVnaXN0ZXJFZmZlY3QuaGFuZGxlUmVnaXN0ZXI7CgogICAgdmFyIF91c2VMb2dpbkVmZmVjdCA9IHVzZUxvZ2luRWZmZWN0KCksCiAgICAgICAgaGFuZGxlTG9naW5DbGljayA9IF91c2VMb2dpbkVmZmVjdC5oYW5kbGVMb2dpbkNsaWNrOwoKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBlbnN1cmVtZW50OiBlbnN1cmVtZW50LAogICAgICBoYW5kbGVSZWdpc3RlcjogaGFuZGxlUmVnaXN0ZXIsCiAgICAgIGhhbmRsZUxvZ2luQ2xpY2s6IGhhbmRsZUxvZ2luQ2xpY2ssCiAgICAgIHNob3c6IHNob3csCiAgICAgIHRvYXN0TWVzc2FnZTogdG9hc3RNZXNzYWdlLAogICAgICBzaG93VG9hc3Q6IHNob3dUb2FzdAogICAgfTsKICB9Cn07"},{"version":3,"mappings":"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","names":["useRouter","reactive","toRefs","post","Toast","useToastEffect","useRegisterEffect","showToast","router","data","username","password","ensurement","handleRegister","result","errno","push","name","useLoginEffect","handleLoginClick","components","setup","show","toastMessage"],"sourceRoot":"","sources":["C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\register\\Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <img\r\n      class=\"wrapper__img\"\r\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\r\n    />\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入用户名\"\r\n        v-model=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        autocomplete=\"new-passworld\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        type=\"password\"\r\n        autocomplete=\"new-passworld\"\r\n        v-model=\"ensurement\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">\r\n      已有账号去登陆\r\n    </div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast.vue'\r\n// 处理注册相关逻辑\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n  // 用async/await语法\r\n  const handleRegister = async () => {\r\n    try {\r\n      const { username, password, ensurement } = data\r\n      if (username === '' || password === '' || ensurement === '') {\r\n        showToast('请填写用户名和密码')\r\n      } else {\r\n        const result = await post('/api/user/register', {\r\n          username: data.username,\r\n          password: data.password,\r\n          ensurement: data.ensurement\r\n        })\r\n        if (result?.errno === 0) {\r\n          router.push({ name: 'Login' })\r\n        } else {\r\n          showToast('注册失败')\r\n        }\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\n// 处理登录跳转\r\nconst useLoginEffect = () => {\r\n  const router = useRouter()\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })\r\n  }\r\n  return { handleLoginClick }\r\n}\r\nexport default {\r\n  name: 'Register',\r\n  components: {\r\n    Toast\r\n  },\r\n  setup() {\r\n    const { show, toastMessage, showToast } = useToastEffect()\r\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n    return { username, password, ensurement, handleRegister, handleLoginClick, show, toastMessage, showToast }\r\n  }\r\n}\r\n</script>\r\n<style  lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  left: 0;\r\n  right: 0;\r\n  &__img {\r\n    display: block;\r\n    width: 0.66rem;\r\n    height: 0.66rem;\r\n    margin: 0 auto 0.4rem auto;\r\n  }\r\n  &__input {\r\n    height: 0.48rem;\r\n    margin: 0 0.4rem 0.16rem 0.4rem;\r\n    padding: 0 0.16rem;\r\n    box-sizing: border-box;\r\n    background-color: #f9f9f9;\r\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\r\n    border-radius: 0.06rem;\r\n    &__content {\r\n      line-height: 0.48rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: 0.16rem;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    background: $btn-bgColor;\r\n    color: $bgColor;\r\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\r\n    border-radius: 0.04rem;\r\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\r\n    height: 0.48rem;\r\n    line-height: 0.48rem;\r\n    text-align: center;\r\n    font-size: 0.16rem;\r\n  }\r\n  &__register-link {\r\n    font-size: 0.14rem;\r\n    color: $content-notice-fontcolor;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}
{"remainingRequest":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\shop\\Shop.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\shop\\Shop.vue","mtime":1655786511979},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\babel.config.js","mtime":1654581884108},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654581870855},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\babel-loader\\lib\\index.js","mtime":1654581871710},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654581870855},{"path":"C:\\Users\\我是仙女\\Desktop\\jd\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654581871863}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvXHU2MjExXHU2NjJGXHU0RUQ5XHU1OTczL0Rlc2t0b3AvamQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9cdTYyMTFcdTY2MkZcdTRFRDlcdTU5NzMvRGVza3RvcC9qZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IGdldCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3QnOwppbXBvcnQgU2hvcEluZm8gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TaG9wSW5mby52dWUnOwppbXBvcnQgQ29udGVudCBmcm9tICcuLi8uLi92aWV3cy9zaG9wL0NvbnRlbnQudnVlJzsKaW1wb3J0IENhcnQgZnJvbSAnLi4vLi4vdmlld3Mvc2hvcC9DYXJ0LnZ1ZSc7IC8vIOiOt+WPluW9k+WJjeWVhumTuuS/oeaBrwoKdmFyIHVzZVNob3BJbmZvRWZmZWN0ID0gZnVuY3Rpb24gdXNlU2hvcEluZm9FZmZlY3QoKSB7CiAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICB2YXIgZGF0YSA9IHJlYWN0aXZlKHsKICAgIGl0ZW06IHt9CiAgfSk7CgogIHZhciBnZXRJdGVtRGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXQoIi9hcGkvc2hvcC8iLmNvbmNhdChyb3V0ZS5wYXJhbXMuaWQpKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIHJlc3VsdC5kYXRhKSB7CiAgICAgICAgICAgICAgICBkYXRhLml0ZW0gPSByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRJdGVtRGF0YSgpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhkYXRhKSwKICAgICAgaXRlbSA9IF90b1JlZnMuaXRlbTsKCiAgcmV0dXJuIHsKICAgIGl0ZW06IGl0ZW0sCiAgICBnZXRJdGVtRGF0YTogZ2V0SXRlbURhdGEKICB9Owp9OyAvLyDngrnlh7vlm57pgIDpgLvovpEKCgp2YXIgdXNlQmFja1JvdXRlckVmZmVjdCA9IGZ1bmN0aW9uIHVzZUJhY2tSb3V0ZXJFZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwoKICB2YXIgaGFuZGxlQmFja0NsaWNrID0gZnVuY3Rpb24gaGFuZGxlQmFja0NsaWNrKCkgewogICAgcm91dGVyLmJhY2soKTsKICB9OwoKICByZXR1cm4gewogICAgaGFuZGxlQmFja0NsaWNrOiBoYW5kbGVCYWNrQ2xpY2sKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaG9wJywKICBjb21wb25lbnRzOiB7CiAgICBTaG9wSW5mbzogU2hvcEluZm8sCiAgICBDb250ZW50OiBDb250ZW50LAogICAgQ2FydDogQ2FydAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VTaG9wSW5mb0VmZmVjdCA9IHVzZVNob3BJbmZvRWZmZWN0KCksCiAgICAgICAgaXRlbSA9IF91c2VTaG9wSW5mb0VmZmVjdC5pdGVtLAogICAgICAgIGdldEl0ZW1EYXRhID0gX3VzZVNob3BJbmZvRWZmZWN0LmdldEl0ZW1EYXRhOwoKICAgIGdldEl0ZW1EYXRhKCk7CgogICAgdmFyIF91c2VCYWNrUm91dGVyRWZmZWN0ID0gdXNlQmFja1JvdXRlckVmZmVjdCgpLAogICAgICAgIGhhbmRsZUJhY2tDbGljayA9IF91c2VCYWNrUm91dGVyRWZmZWN0LmhhbmRsZUJhY2tDbGljazsKCiAgICByZXR1cm4gewogICAgICBpdGVtOiBpdGVtLAogICAgICBoYW5kbGVCYWNrQ2xpY2s6IGhhbmRsZUJhY2tDbGljawogICAgfTsKICB9Cn07"},{"version":3,"mappings":";;AAkBA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,KAAjC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,YAApC;AACA,SAASC,GAAT,QAAoB,qBAApB;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,IAAP,MAAiB,2BAAjB,C,CACA;;AACA,IAAMC,iBAAgB,GAAI,SAApBA,iBAAoB,GAAM;EAC9B,IAAMC,KAAI,GAAIN,QAAQ,EAAtB;EACA,IAAMO,IAAG,GAAIV,QAAQ,CAAC;IACpBW,IAAI,EAAE;EADc,CAAD,CAArB;;EAGA,IAAMC,WAAU;IAAA,sEAAI;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACGR,GAAG,qBAAcK,KAAK,CAACI,MAAN,CAAaC,EAA3B,EADN;;YAAA;cACZC,MADY;;cAElB,IAAI,OAAM,SAAN,UAAM,WAAN,kBAAM,CAAEC,KAAR,MAAkB,CAAlB,IAAuBD,MAAvB,aAAuBA,MAAvB,eAAuBA,MAAM,CAAEL,IAAnC,EAAyC;gBACvCA,IAAI,CAACC,IAAL,GAAYI,MAAM,CAACL,IAAnB;cACF;;YAJkB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAJ;;IAAA,gBAAVE,WAAU;MAAA;IAAA;EAAA,GAAhB;;EAMA,cAAiBX,MAAM,CAACS,IAAD,CAAvB;EAAA,IAAQC,IAAR,WAAQA,IAAR;;EACA,OAAO;IAAEA,IAAI,EAAJA,IAAF;IAAQC,WAAU,EAAVA;EAAR,CAAP;AACF,CAbA,C,CAcA;;;AACA,IAAMK,mBAAkB,GAAI,SAAtBA,mBAAsB,GAAM;EAChC,IAAMC,MAAK,GAAIhB,SAAS,EAAxB;;EACA,IAAMiB,eAAc,GAAI,SAAlBA,eAAkB,GAAM;IAC5BD,MAAM,CAACE,IAAP;EACF,CAFA;;EAGA,OAAO;IAAED,eAAc,EAAdA;EAAF,CAAP;AACF,CANA;;AAOA,eAAe;EACbE,IAAI,EAAE,MADO;EAEbC,UAAU,EAAE;IACVjB,QAAQ,EAARA,QADU;IACAC,OAAO,EAAPA,OADA;IACSC,IAAG,EAAHA;EADT,CAFC;EAKbgB,KALa,mBAKL;IACN,yBAA8Bf,iBAAiB,EAA/C;IAAA,IAAQG,IAAR,sBAAQA,IAAR;IAAA,IAAcC,WAAd,sBAAcA,WAAd;;IACAA,WAAW;;IACX,2BAA4BK,mBAAmB,EAA/C;IAAA,IAAQE,eAAR,wBAAQA,eAAR;;IACA,OAAO;MAAER,IAAI,EAAJA,IAAF;MAAQQ,eAAc,EAAdA;IAAR,CAAP;EACF;AAVa,CAAf","names":["reactive","toRefs","useRouter","useRoute","get","ShopInfo","Content","Cart","useShopInfoEffect","route","data","item","getItemData","params","id","result","errno","useBackRouterEffect","router","handleBackClick","back","name","components","setup"],"sourceRoot":"","sources":["C:\\Users\\我是仙女\\Desktop\\jd\\src\\views\\shop\\Shop.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"search\">\r\n      <div class=\"search__back iconfont\" @click=\"handleBackClick\">&#xe6db;</div>\r\n      <div class=\"search__content\">\r\n        <span class=\"search__content__icon iconfont\">&#xe61a;</span>\r\n        <input\r\n          class=\"search__content__input\"\r\n          placeholder=\"请输入商品名称搜索\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <ShopInfo :item=\"item\" :hideBoder=\"true\" v-show=\"item.imgUrl\" />\r\n    <Content :shopName=\"item.name\" />\r\n    <Cart />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { get } from '../../utils/request'\r\nimport ShopInfo from '../../components/ShopInfo.vue'\r\nimport Content from '../../views/shop/Content.vue'\r\nimport Cart from '../../views/shop/Cart.vue'\r\n// 获取当前商铺信息\r\nconst useShopInfoEffect = () => {\r\n  const route = useRoute()\r\n  const data = reactive({\r\n    item: {}\r\n  })\r\n  const getItemData = async () => {\r\n    const result = await get(`/api/shop/${route.params.id}`)\r\n    if (result?.errno === 0 && result?.data) {\r\n      data.item = result.data\r\n    }\r\n  }\r\n  const { item } = toRefs(data)\r\n  return { item, getItemData }\r\n}\r\n// 点击回退逻辑\r\nconst useBackRouterEffect = () => {\r\n  const router = useRouter()\r\n  const handleBackClick = () => {\r\n    router.back()\r\n  }\r\n  return { handleBackClick }\r\n}\r\nexport default {\r\n  name: 'Shop',\r\n  components: {\r\n    ShopInfo, Content, Cart\r\n  },\r\n  setup() {\r\n    const { item, getItemData } = useShopInfoEffect()\r\n    getItemData()\r\n    const { handleBackClick } = useBackRouterEffect()\r\n    return { item, handleBackClick }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.wrapper {\r\n  padding: 0 0.18rem;\r\n}\r\n.search {\r\n  margin: 0.14rem 0 0.04rem 0;\r\n  display: flex;\r\n  &__back {\r\n    line-height: 0.32rem;\r\n    width: 0.3rem;\r\n    font-size: 0.3rem;\r\n    color: #b6b6b6;\r\n  }\r\n  &__content {\r\n    height: 0.36rem;\r\n    line-height: 0.36rem;\r\n    display: flex;\r\n    flex: 1;\r\n    background: $search-bgColor;\r\n    border-radius: 0.16rem;\r\n    &__icon {\r\n      position: relative;\r\n      width: 0.44rem;\r\n      // height: 0.32rem;\r\n      // line-height: 0.32rem;\r\n      text-align: center;\r\n      font-size: 0.2rem;\r\n      color: $search-fontColor;\r\n    }\r\n    &__input {\r\n      outline: none;\r\n      border: none;\r\n      background: none;\r\n      display: block;\r\n      flex: 1;\r\n      padding-right: 0.2rem;\r\n      color: $content-fontcolor;\r\n      font-size: 0.13rem;\r\n      &::placeholder {\r\n        color: $content-fontcolor;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}